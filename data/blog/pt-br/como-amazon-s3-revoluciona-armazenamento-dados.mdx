---
title: 'Como o Amazon S3 revoluciona o armazenamento de dados'
date: '2024-08-06'
language: pt-br
tags: ['aws', 's3', 'cloud-storage', 'data-management', 'backend']
authors: ['lucas-andrade']
draft: false
summary: 'Hoje, a AWS criou um ecossistema onde tudo pode estar ligado ao S3. Mas como esse servi√ßo consegue ser t√£o revolucion√°rio? Vem entender!'
images: ['/static/images/amazon-s3.png']
---

Quando comecei a estudar programa√ß√£o, cerca de 6 anos atr√°s, existia uma discuss√£o muito forte sobre o que usar nas aplica√ß√µes para armazenar arquivos. Bibliotecas como [multer](https://www.npmjs.com/package/multer), [CarrierWave](https://github.com/carrierwaveuploader/carrierwave) e [Django-File-Uploads](https://docs.djangoproject.com/en/5.0/topics/http/file-uploads/) eram imensamente recomendadas, e, apesar do S3 j√° ser considerado uma √≥tima solu√ß√£o, ainda ficava correndo por fora nessa discuss√£o, em termos de unanimidade.

Hoje, o cen√°rio mudou completamente, e o S3 √© a primeira alternativa em termos de armazenamento. Literalmente todas as APIs que mexi nos √∫ltimos 5 anos usam a tecnologia, e nem bato muita cabe√ßa ao pensar em como vou armazenar arquivos em minhas pr√≥prias APIs, j√° crio logo um bucket no S3.

Mas como a Amazon surfou na necessidade de uma solu√ß√£o escal√°vel para armazenar arquivos, e como o S3 consegue ser t√£o revolucion√°rio nesse meio, se estendendo para ser revolucion√°rio at√© mesmo no armazenamento de dados?

## Mas, primeiramente, que √© o S3?

O [Amazon S3 (Simple Storage Service)](https://aws.amazon.com/s3/) √© um servi√ßo de armazenamento em nuvem da AWS que permite armazenar e recuperar qualquer quantidade de dados a qualquer momento, de qualquer lugar na web. Ele √© altamente escal√°vel, dur√°vel e seguro, o que o torna ideal para backup de dados, recupera√ß√£o de desastres, armazenamento de arquivos de m√≠dia (principal uso do servi√ßo) e muito mais. Com o S3, voc√™ organiza seus dados em "buckets", que s√£o como diret√≥rios onde voc√™ guarda seus arquivos. Al√©m disso, o S3 oferece controle detalhado de permiss√µes e vers√µes de arquivos, garantindo que seus dados estejam sempre protegidos e acess√≠veis quando necess√°rio.

Ent√£o, vamos imaginar que voc√™ tem um SAAS e precisa armazenar uma grande quantidade de v√≠deos que seus usu√°rios fazem upload diariamente. Em vez de investir em servidores f√≠sicos e infraestrutura pr√≥pria, voc√™ pode usar o S3 para armazenar esses v√≠deos. Assim, sempre que um usu√°rio faz upload de um v√≠deo, ele √© automaticamente enviado para um bucket no S3, que devolve uma URL. No banco, podemos simplesmente salvar essa URL em um campo como string. Isso n√£o s√≥ economiza tempo e recursos, mas tamb√©m garante que seus dados estejam seguros e acess√≠veis globalmente, sem voc√™ precisar se preocupar com a escalabilidade ou manuten√ß√£o da infraestrutura.

Para al√©m da vantagem de praticamente "terceirizarmos" a tarefa de cuidar dos nossos arquivos, e da facilidade que temos em ter uma refer√™ncia deles no banco, o S3 possui outra vantagem imensa:

**√â extremamente barato**.

Na data desse artigo (06/08/2024), a AWS fornece 5GB (!) de armazenamento gratuitamente, al√©m de 20.000 GET; 2.000 PUT, COPY, POST ou LIST; e 100 GB de transfer√™ncia de dados todo m√™s. De gra√ßa.

E mesmo quando falamos em custos, o valor √© √≠nfimo, se comparado a robustez da solu√ß√£o. Hoje, no plano mais b√°sico, ainda que ultrapassemos a cota gratuita (o que pra uma plataforma com pouca-m√©dia ado√ß√£o √© dif√≠cil), o pre√ßo fica em torno de 0.023 centavos (d√≥lar) por GB (Valores apenas de armazenamento). Ent√£o, ainda que seja utilizado 1TB a mais do que os 5GB j√° usados, o custo mensal seria aproximadamente de 23 d√≥lares por m√™s.

*Mas vamos combinar, se os usu√°rios de uma plataforma sua est√£o subindo 1TB em arquivos, provavelmente voc√™ j√° lucrou o suficiente pra isso n√£o ser um problema‚Ä¶*

## Vantagens do S3

Ent√£o, em resumo, as vantagens do S3 em rela√ß√£o a quase todas as outras solu√ß√µes acabam por ser:

- **Escalabilidade**: O S3 pode armazenar e gerenciar quantidades enormes de dados, escalando automaticamente √† medida que suas necessidades crescem.
- **Durabilidade e Confiabilidade**: O S3 oferece uma durabilidade de 99,999999999% (11 noves) para os objetos armazenados, com replica√ß√£o autom√°tica de dados em v√°rias zonas de disponibilidade.
- **Seguran√ßa**: O S3 permite criptografar dados em repouso e em tr√¢nsito. Ele tamb√©m oferece controle granular de acesso por meio de pol√≠ticas de IAM e controle de acesso a n√≠vel de bucket e objeto.
- **Custo-efetividade**: O S3 tem um modelo de pagamento conforme o uso, permitindo que voc√™ pague apenas pelo que usar, sem custos iniciais. Existem diferentes classes de armazenamento para otimizar custos com base na frequ√™ncia de acesso aos dados.
- **Alta Disponibilidade**: Os dados armazenados no S3 est√£o dispon√≠veis em v√°rias regi√µes e zonas de disponibilidade (de S√£o Paulo at√© o Bahrein), garantindo MUITA disponibilidade e resili√™ncia a falhas.
- **Facilidade de Integra√ß√£o**: O S3 se integra facilmente com outros servi√ßos da AWS, como Lambda, EC2, RDS e muitos outros, facilitando a cria√ß√£o de solu√ß√µes complexas e escal√°veis.
- **Performance**: O S3 √© projetado para fornecer alta performance em termos de lat√™ncia e throughput, adequando-se a uma ampla variedade de casos de uso, desde backup e arquivamento at√© big data e an√°lise.
- **Gerenciamento de Ciclo de Vida**: O S3 oferece pol√≠ticas de ciclo de vida que permitem automatizar a migra√ß√£o de dados entre diferentes classes de armazenamento com base em regras predefinidas.
- **Versatilidade**: O S3 pode ser usado para uma ampla gama de aplica√ß√µes, incluindo armazenamento de arquivos de m√≠dia, backup e recupera√ß√£o de desastres, big data, an√°lise de dados e etc.

## A vida antes do S3

Como eu comentei nos primeiros par√°grafos, o armazenamento de arquivos sempre foi algo bem mais desafiador antes da solu√ß√£o em nuvem. Geralmente, era adotada uma ou mais das seguintes solu√ß√µes:

- **Armazenamento em Servidores Locais**: Empresas costumavam manter seus pr√≥prios servidores e datacenters para armazenar dados. Isso envolvia a compra, configura√ß√£o e manuten√ß√£o de hardware, al√©m de lidar com problemas de escalabilidade e disponibilidade.
- **Sistemas de Armazenamento em Rede (NAS)**: NAS √© uma solu√ß√£o de armazenamento conectada √† rede que permite o compartilhamento de arquivos entre m√∫ltiplos usu√°rios e dispositivos em uma rede local. √â f√°cil de gerenciar, mas pode ser caro e dif√≠cil de escalar.
- **Rede de √°rea de armazenamento (SAN)**: SAN √© uma rede de alta velocidade que conecta servidores a dispositivos de armazenamento. Ele oferece alta performance e confiabilidade, sendo utilizado em ambientes de datacenters, mas √© caro e complexo de implementar e gerenciar.
- **Fitas Magn√©ticas e Armazenamento em Disco Externo**: Backup e arquivamento de dados frequentemente eram realizados usando fitas magn√©ticas ou discos externos. Embora ainda sejam utilizados para arquivamento a longo prazo devido ao custo relativamente baixo, eles n√£o oferecem a mesma conveni√™ncia ou acessibilidade que solu√ß√µes em nuvem.
- **Servi√ßos de Hospedagem e Colocation**: Algumas empresas optavam por hospedar seus servidores em instala√ß√µes de terceiros (colocation) para reduzir custos de infraestrutura e obter melhor conectividade. No entanto, isso ainda envolvia a manuten√ß√£o de hardware e gerenciamento de servidores.
- **Solu√ß√µes de Armazenamento Gerenciado**: Empresas utilizavam servi√ßos gerenciados de armazenamento fornecidos por empresas especializadas que ofereciam solu√ß√µes de armazenamento offsite, backup e recupera√ß√£o de desastres. Esses servi√ßos, no entanto, tinham limita√ß√µes em termos de escalabilidade e flexibilidade comparados √†s solu√ß√µes em nuvem.

T√°, j√° sabemos que o S3 veio para solucionar 99% (e 11 noves depois da v√≠rgula) desses problemas. Mas como a Amazon consegue ter uma solu√ß√£o t√£o escal√°vel, completa, e o mais impressionante, com um custo-benef√≠cio √≥timo?

## Como o S3 consegue ser t√£o revolucion√°rio?

√â importante destacarmos algumas coisas pra entender como a Amazon faz com que o S3 valha a pena tanto pra eles, quantos para os clientes, e s√£o coisas primordiais pra entendermos o esquema, em termos de regra de neg√≥cio, principalmente.

O que eu considero mais importante √©:

> A AWS n√£o seria a mesma sem o S3. E o S3 n√£o seria NADA sem a AWS.

Tirando o √≥bvio, que o S3 n√£o existiria sem a AWS porque a AWS que ideou o S3, essa frase na real tem um outro prop√≥sito, que √©: o S3 sobrevive debaixo de uma plataforma de nuvem muito bem arquitetada e gerenciada para fazer com que seus servi√ßos sobrevivam, e, ainda que seja muito importante, o S3 √© apenas um dos in√∫meros servi√ßos.

A AWS tem v√°rios datacenters ao redor do mundo. S√≥ falando em zonas de disponibilidade, que podem ter um ou mais datacenters, estamos falando de mais de 100. Essa infraestrutura nunca valeria a pena em ser usada s√≥ pelo S3, isso n√£o daria retorno nenhum para a AWS (a menos que eles aumentassem bizarramente o custo para o cliente).

Em outras palavras, um data center pode armazenar dados para o Amazon S3, hospedar aplica√ß√µes no Amazon EC2, executar fun√ß√µes no AWS Lambda e fornecer capacidade de banco de dados no Amazon RDS, entre outros servi√ßos. **Isso se chama compartilhamento de infraestrutura**, e √© uma abordagem excelente. Faz com que as aplica√ß√µes mais baratas valham mais a pena, porque as mais caras sempre v√£o suprir a diferen√ßa.

> Segundo a Bloomberg Linea, no primeiro semestre de 2024 a AWS teve um lucro de 9,42 bilh√µes de d√≥lares.

Existe outra estrat√©gia chamada **Lock-In**. Uma vez que os dados est√£o armazenados no S3, √© conveniente para os clientes continuar usando outros servi√ßos da AWS para processamento e an√°lise de dados. Isso cria uma depend√™ncia do ecossistema AWS, o que pode aumentar a receita √† medida que os clientes adotam mais servi√ßos da AWS.

Um outro ponto √© o modelo de cobran√ßa, que √© algo que hoje vale muito a pena e √© muito adotado por modelos "as a service". O S3 adota um modelo de precifica√ß√£o baseado em pagamento conforme o uso. Isso significa que os clientes pagam apenas pelo armazenamento de dados e pelas opera√ß√µes que realmente utilizam, como transfer√™ncias e solicita√ß√µes. Esse modelo √© atrativo para os clientes, porque elimina a necessidade de investimentos iniciais altos e permite uma gest√£o flex√≠vel dos custos. Ao cobrar por cada GB armazenado e cada requisi√ß√£o, a AWS consegue capturar receita de forma escalon√°vel, conforme o crescimento das necessidades dos clientes.

Ent√£o, empresas que est√£o no in√≠cio (a maior parte) pagam pouco ou nada, enquanto empresas maiores gastam mais, proporcionalmente, o que vale muito a pena pra Amazon. Se o servi√ßo √© bom o suficiente pra come√ßar usando e √© escal√°vel, ele provavelmente vai crescer junto com a empresa

E hoje existem muitas, MUITAS empresas usando o S3.

O melhor exemplo √© a Netflix, [que usa o S3 de uma maneira diferentona pra armazenar seus arquivos](https://aws.amazon.com/solutions/case-studies/netflix-storage-reinvent22/). Exemplo de empresa que usa o S3 √© o que n√£o falta.

Ent√£o, de cerca forma, a AWS abocanha parte do crescimento das empresas que usam o S3, al√©m dos outros servi√ßos (a maioria segue esse modelo de cobran√ßa).

## Linha do Tempo da Ado√ß√£o do Amazon S3

- **2006**: Lan√ßamento oficial do Amazon S3. Inicialmente, adotado principalmente por startups e pequenas empresas que necessitam de uma solu√ß√£o de armazenamento escal√°vel e econ√¥mica.
- **2010**: A introdu√ß√£o do Amazon CloudFront impulsiona ainda mais a ado√ß√£o do S3 para entrega de conte√∫do global, melhorando o desempenho de sites e aplica√ß√µes.
- **2013**: A capacidade de definir pol√≠ticas de ciclo de vida e a replica√ß√£o entre regi√µes atraem empresas que precisam de solu√ß√µes robustas para recupera√ß√£o de desastres e conformidade.
- **2014**: Setores como sa√∫de e finan√ßas come√ßam a adotar o S3 para armazenar dados sens√≠veis, gra√ßas a cria√ß√£o de mais recursos avan√ßados de seguran√ßa e conformidade.
- **2015**: A introdu√ß√£o do S3 Standard-IA atrai empresas que buscam solu√ß√µes de armazenamento econ√¥mico para dados acessados com menos frequ√™ncia.
- **2016**: O S3 Transfer Acceleration e a integra√ß√£o com AWS Lambda aumentam a ado√ß√£o em ind√∫strias que necessitam de processamento r√°pido e eficiente de dados.
- **2017**: A ado√ß√£o do S3 cresce exponencialmente com a introdu√ß√£o do S3 Glacier, permitindo que empresas arquivem dados a um custo muito baixo.
- **2018**: O Amazon S3 Select facilita a an√°lise de grandes volumes de dados armazenados no S3, atraindo empresas de ci√™ncia de dados e an√°lise de neg√≥cios.
- **2019**: O recurso S3 Object Lock atrai setores regulamentados, como jur√≠dico e financeiro, que necessitam de pol√≠ticas WORM (Write Once, Read Many) para conformidade.
- **2021**: A ado√ß√£o do S3 Intelligent-Tiering cresce, especialmente entre empresas que buscam otimizar custos de armazenamento sem comprometer a acessibilidade dos dados.
- **2022**: Setores como educa√ß√£o e pesquisa adotam o S3 Glacier Instant Retrieval para armazenar grandes volumes de dados de pesquisa e hist√≥ricos acad√™micos de forma econ√¥mica.
- **2023‚Äì2024**: Ado√ß√£o cont√≠nua do S3, com empresas de todos os tamanhos e setores aproveitando novos recursos de seguran√ßa e governan√ßa, impulsionando ainda mais a utiliza√ß√£o do S3 para armazenamento seguro e gerenciamento de dados.

Ent√£o hoje, a AWS revoluciona e cria uma depend√™ncia quase como uma enorme teia no mundo tecnol√≥gico, onde tudo, no fim das contas, pode estar ligado ao S3. E na verdade essa √© uma estrat√©gia utilizada por (quase) todos os seus servi√ßos, mas hoje o tema √© armazenamento de dados.

Eu amo falar sobre esse assunto, poderia continuar escrevendo aqui, mas acho que pra falar do S3 estamos de bom tamanho. Vale falar das estrat√©gias da AWS em outros servi√ßos? Muito, mas vai ficar pra um pr√≥ximo artigo.

No mais, obrigado pela leitura! Espero ter te ajudado a se entender sobre o neg√≥cio por tr√°s da AWS. Bom, se tiver alguma sugest√£o ou complemento √∫til para citar e contribuir com a comunidade, n√£o esque√ßa de deixar seu coment√°rio!

At√© a pr√≥xima üëã


